<!doctype html><html lang=en><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><style>:root{--accent-color:#FF4D4D}</style><title>So I bought a Yubikey, now what?</title><meta name=description content="Ramblings and tech things"><meta name=keywords content><meta property="og:url" content="https://asynchronous.in/posts/so-i-bought-a-yubikey-now-what/"><meta property="og:type" content="website"><meta property="og:title" content="So I bought a Yubikey, now what?"><meta property="og:description" content="Ramblings and tech things"><meta property="og:image" content="https://asynchronous.in"><meta property="og:image:secure_url" content="https://asynchronous.in"><meta name=twitter:card content="summary_large_image"><meta name=twitter:title content="So I bought a Yubikey, now what?"><meta name=twitter:description content="Ramblings and tech things"><meta property="twitter:domain" content="https://asynchronous.in/posts/so-i-bought-a-yubikey-now-what/"><meta property="twitter:url" content="https://asynchronous.in/posts/so-i-bought-a-yubikey-now-what/"><meta name=twitter:image content="https://asynchronous.in"><link rel=canonical href=https://asynchronous.in/posts/so-i-bought-a-yubikey-now-what/><link rel=stylesheet type=text/css href=/css/normalize.min.css media=print><link rel=stylesheet type=text/css href=/css/main.min.css><link id=dark-theme rel=stylesheet href=/css/dark.min.css><script src=/js/bundle.min.edd985581bf860dfb4507e5885197f1680160c7fe19f23b31e183126d99dd596.js integrity="sha256-7dmFWBv4YN+0UH5YhRl/FoAWDH/hnyOzHhgxJtmd1ZY="></script></head><body><script type=text/javascript>setThemeByUserPref()</script><header class=header><nav class=header-nav><div class=nav-title><a class=nav-brand href=https://asynchronous.in>maxking's blog</a></div><div class=nav-links><div class=nav-link><a href=https://asynchronous.in/posts/>Posts</a></div><div class=nav-link><a href=https://asynchronous.in/tags/>Tags</a></div><div class=nav-link><a href=https://github.com/maxking><span data-feather=github></span></a></div><span class=nav-icons-divider></span><div class="nav-link dark-theme-toggle"><span id=dark-theme-toggle-screen-reader-target class=sr-only></span>
<a><span id=theme-toggle-icon data-feather=moon></span></a></div><div class=nav-link id=hamburger-menu-toggle><span id=hamburger-menu-toggle-screen-reader-target class=sr-only>menu</span>
<a><span data-feather=menu></span></a></div><ul class="nav-hamburger-list visibility-hidden"><li class=nav-item><a href=https://asynchronous.in/posts/>Posts</a></li><li class=nav-item><a href=https://asynchronous.in/tags/>Tags</a></li><li class=nav-item><a href=https://github.com/maxking><span data-feather=github></span></a></li><li class="nav-item dark-theme-toggle"><span id=dark-theme-toggle-screen-reader-target class=sr-only>theme</span>
<a><span id=theme-toggle-icon data-feather=moon></span></a></li></ul></div></nav></header><main id=content><div class="post container"><div class=post-header-section><h1>So I bought a Yubikey, now what?</h1><small role=doc-subtitle></small><p class=post-date>August 9, 2017</p><ul class=post-tags></ul></div><div class=post-content><p><h1 id=so-i-bought-a-yubikey-now-what>So I bought a Yubikey, now what?</h1><p><a href=https://www.yubico.com/products/yubikey-hardware/>Yubikey</a>s are small usb security keys that can be used in various ways to improve the day to day workflow from the security point of view. I recently got one and started exploring and everything you can do with Yubikey 4 on a Linux machine.</p><p>First and most simple usage of Yubikeys are for 2nd factor authentication of several different websites like Github, Google etc. However, the native support for Yubikeys (also called as U2F standard keys) exists only in Google chrome browser as of now.</p><p>Because I recently moved to Firefox 54 (see this if you want to know <a href=https://medium.com/mozilla-tech/the-search-for-the-goldilocks-browser-and-why-firefox-may-be-just-right-for-you-1f520506aa35>what is special about v54 release of FF</a>) and have been pretty much happy with it. I can keep over 30-40 tabs open without every worrying about my computer getting slow. Sure if I open a lot of tasks, Firefox itself gets a bit slow, but I guess this compromise works well where I can keep enough tabs open when I want.</p><p>Moving on, I was pretty bummed to find out that Firefox doesn’t have native support for U2F keys, however, someone pointed me to this <a href=https://medium.com/mozilla-tech/the-search-for-the-goldilocks-browser-and-why-firefox-may-be-just-right-for-you-1f520506aa35>Add-On</a> using which you can use Yubikeys and other U2F keys in Firefox. I immediately installed everything and it worked like a charm. It looks like a popular add-on with 23k users and 4/5 ratings.</p><p>I added my Yubikey on Github and all it took was a single button press to register the device. I haven’t exactly read anything about U2F protocol, but it looks like it emits some sort of OTP like an input device on the highlighted text input area which probably the websites grab and use for authentication. I will definitely check out U2F protocol and maybe write another post on it.</p><p>Another notable use of Yubikeys are to store gpg keys. It is advised to store your master key offline and safe somewhere and only add subkeys to Yubikeys so that you can revoke the keys in case you loose the Yubikey. I find that to be very good advice, but I am still wondering the exact use cases where I can store my gpg key on the Yubikey and not worry too much about loosing it. It does protect the keys with a Pin and probably won’t be that bad if you can revoke the keys, but people don’t update revocations all so frequently, which makes me a bit skeptical about storing my gpg keys on Yubikey.</p><p>Here is some piece of documentation from the Yubico-personalization-gui for programming Yubikeys that I didn’t know about:</p><pre><code>YubiKey 2.x and later comes with two configuration slots. Each configuration slot works independent of each other and can be programmed in any of the following modes:
    1. Yubico OTP
    2. OATH-HOTP
    3. Static Password
    4. Challenge-Response (YubiKey 2.2 and onwards)
The first slot is used to generate the output when the YubiKey button is touched between 0.3 to 1.5 seconds and released and the second slot is used if the button is touched between 2 to 5 seconds.
When the YubiKey 2.X is shipped, it's first configuration slot is factory programmed for Yubico OTP mode (which works with online Yubico OTP validation server) and the second configuration slot is left blank.
</code></pre><p>Ok, so this makes things more clear to me:</p><ul><li>There are two slots which you can use for one of the following four functions each:<ul><li>Yubico OTP (works when you use the OTP mode in Websites like Github/Gmail)</li><li>OATH-HOTP (works when you want something like Google Authenticator but counter based instead of time based OTP)</li><li>Static Password (a fixed static password that can be either programmed or auto generated on the key, maximum length of 64 chars)</li><li>Challenge Response (can be used for local authentication using HMAC-SHA1 in offline mode, this can be used with libpam-yubico to <a href=https://developers.yubico.com/yubico-pam/Authentication_Using_Challenge-Response.html>login into computer</a> or any other PAM related functions)</li></ul></li></ul><p>I hope this is a good basic introduction and will help others to get started after buying a new Yubikey!</p></p></div><div class=prev-next></div><script>let backToTopButton=document.getElementById("btt-button");window.onscroll=function(){scrollFunction()};function scrollFunction(){document.body.scrollTop>20||document.documentElement.scrollTop>20?backToTopButton.style.display="block":backToTopButton.style.display="none"}function topFunction(){smoothScrollToTop()}function smoothScrollToTop(){const e=()=>{const t=document.documentElement.scrollTop||document.body.scrollTop;t>0&&(window.requestAnimationFrame(e),window.scrollTo(0,t-t/8))};e()}</script></div></main><footer class=footer><span>Made with &#10084;&#65039; using <a target=_blank href=https://github.com/526avijitgupta/gokarna>Gokarna</a></span></footer></body></html>