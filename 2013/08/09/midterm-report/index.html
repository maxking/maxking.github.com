<!doctype html><html lang=en><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><style>:root{--accent-color:#FF4D4D}</style><title>Midterm Report</title><meta name=description content="Ramblings and tech things"><meta name=keywords content><meta property="og:url" content="https://asynchronous.in/2013/08/09/midterm-report/"><meta property="og:type" content="website"><meta property="og:title" content="Midterm Report"><meta property="og:description" content="Ramblings and tech things"><meta property="og:image" content="https://asynchronous.in"><meta property="og:image:secure_url" content="https://asynchronous.in"><meta name=twitter:card content="summary_large_image"><meta name=twitter:title content="Midterm Report"><meta name=twitter:description content="Ramblings and tech things"><meta property="twitter:domain" content="https://asynchronous.in/2013/08/09/midterm-report/"><meta property="twitter:url" content="https://asynchronous.in/2013/08/09/midterm-report/"><meta name=twitter:image content="https://asynchronous.in"><link rel=canonical href=https://asynchronous.in/2013/08/09/midterm-report/><link rel=stylesheet type=text/css href=/css/normalize.min.css media=print><link rel=stylesheet type=text/css href=/css/main.min.css><link id=dark-theme rel=stylesheet href=/css/dark.min.css><script src=/js/bundle.min.edd985581bf860dfb4507e5885197f1680160c7fe19f23b31e183126d99dd596.js integrity="sha256-7dmFWBv4YN+0UH5YhRl/FoAWDH/hnyOzHhgxJtmd1ZY="></script></head><body><script type=text/javascript>setThemeByUserPref()</script><header class=header><nav class=header-nav><div class=nav-title><a class=nav-brand href=https://asynchronous.in>maxking's blog</a></div><div class=nav-links><div class=nav-link><a href=https://asynchronous.in/posts/>Posts</a></div><div class=nav-link><a href=https://asynchronous.in/tags/>Tags</a></div><div class=nav-link><a href=https://github.com/maxking><span data-feather=github></span></a></div><span class=nav-icons-divider></span><div class="nav-link dark-theme-toggle"><span id=dark-theme-toggle-screen-reader-target class=sr-only></span>
<a><span id=theme-toggle-icon data-feather=moon></span></a></div><div class=nav-link id=hamburger-menu-toggle><span id=hamburger-menu-toggle-screen-reader-target class=sr-only>menu</span>
<a><span data-feather=menu></span></a></div><ul class="nav-hamburger-list visibility-hidden"><li class=nav-item><a href=https://asynchronous.in/posts/>Posts</a></li><li class=nav-item><a href=https://asynchronous.in/tags/>Tags</a></li><li class=nav-item><a href=https://github.com/maxking><span data-feather=github></span></a></li><li class="nav-item dark-theme-toggle"><span id=dark-theme-toggle-screen-reader-target class=sr-only>theme</span>
<a><span id=theme-toggle-icon data-feather=moon></span></a></li></ul></div></nav></header><main id=content><div class="post container"><div class=post-header-section><h1>Midterm Report</h1><small role=doc-subtitle></small><p class=post-date>August 9, 2013</p><ul class=post-tags></ul></div><div class=post-content><p><p>This is report of my GSoC project - OpenPG integration with GNU Mailman for
midterm. The code is updated at
my <a href=https://code.launchpad.net/~raj-abhilash1/mailman/master>launchpad
branch</a>.<p><b>Accomplishments:</b><ul><li>A signature rule(src/mailman/rules/signature.py) to check for OpenPGP
signature in a message, incase the signature is found it tries to verify the
message using gpg utility.</li><li>A gpg utility(src/mailman/utilities/gpg.py) to perform all the signature
related tasks using `python-gnupg`(v0.3.4). It signs and verifies the signature.</li><li>A signmessage handler(src/mailman/handlers/signmessage.py) to sign the
outgoing message using the gpg utility.(Signing a message is still incomplete in
the sense we do not have a way to store and use keys. For now it has a
pubring.gpg and secring.gpg inside (var/gpg/). It will be replaced with actual
keyrings in future.)</li><li>Tests for each of the three modules above. Testing gpg.py was a small
challenge(for me).</li></ul><p><b>Issues and Roadblocks:</b><ul><li>Signature verification using `python-gnupg` was a PITA to me for
sometime. The way it accepts the string and signature for detached
signature is not documented at all and is converse of what I could think
of. It just occurred to me to try out the other possibility which turned
out to be the right way.</li><li>Version control was also a issue that I encountered. Initially I
started to work on git mirror of mailman. When I tried to port the code
back to bazaar and push to github it took me(and others) a lot of
brainstorming. Finally I did that using bzr-git.</li><li>Deciding the structure of the signed message that we were going to send
out. Initially it was decided to leave sender's signature intact so that
if someone wants to verify it he can do it, but there can-not be two
'pgp-signature' parts in a conventional multipart/signed message. I wrote
the code to follow
an <a href=http://tools.ietf.org/html/draft-ietf-openpgp-multsig-02>internet-draft</a> i discovered one-day. But then I commented out the code
and also added another format.</li><pre>
      mutipart/alternative {
            multipart/signed { text/plain, application/pgp-signature }
            multipart/signed { text/plain, application/pgp-signature }
      }
    </pre></ul><p>Some furthur assistance and research on which format do MUAs support the
most should be implemented.
* python-gnupg does not provide any way to search for keys based on
key-data like email-address. I need some more work to get this working.<p><b>Future Plan:</b>
The next plans for this project include testing all the above parts
thoroughly and then moving on to creating a PKI for the key. Also the
settings for the list-manager to adjust a few options related to signed
lists - like time limit(decided from date in signature) to consider a
message old, and also implementing this in code.</p></div><div class=prev-next></div><script>let backToTopButton=document.getElementById("btt-button");window.onscroll=function(){scrollFunction()};function scrollFunction(){document.body.scrollTop>20||document.documentElement.scrollTop>20?backToTopButton.style.display="block":backToTopButton.style.display="none"}function topFunction(){smoothScrollToTop()}function smoothScrollToTop(){const e=()=>{const t=document.documentElement.scrollTop||document.body.scrollTop;t>0&&(window.requestAnimationFrame(e),window.scrollTo(0,t-t/8))};e()}</script></div></main><footer class=footer><span>Made with &#10084;&#65039; using <a target=_blank href=https://github.com/526avijitgupta/gokarna>Gokarna</a></span></footer></body></html>