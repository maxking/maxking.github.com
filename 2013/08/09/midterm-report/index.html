<!doctype html><html lang=en-us>
<head>
<meta charset=utf-8>
<meta http-equiv=x-ua-compatible content="IE=edge,chrome=1">
<title>Midterm Report | maxking's blog</title><meta name=viewport content="width=device-width,minimum-scale=1">
<meta name=description content="This is report of my GSoC project - OpenPG integration with GNU Mailman for midterm. The code is updated at my launchpad branch.  Accomplishments:   A signature rule(src/mailman/rules/signature.py) to check for OpenPGP signature in a message, incase the signature is found it tries to verify the message using gpg utility.  A gpg utility(src/mailman/utilities/gpg.py) to perform all the signature related tasks using `python-gnupg`(v0.3.4). It signs and verifies the signature.">
<meta name=generator content="Hugo 0.93.2">
<meta name=robots content="noindex, nofollow">
<link rel=stylesheet href=/ananke/css/main.min.css>
<meta property="og:title" content="Midterm Report">
<meta property="og:description" content="This is report of my GSoC project - OpenPG integration with GNU Mailman for midterm. The code is updated at my launchpad branch.  Accomplishments:   A signature rule(src/mailman/rules/signature.py) to check for OpenPGP signature in a message, incase the signature is found it tries to verify the message using gpg utility.  A gpg utility(src/mailman/utilities/gpg.py) to perform all the signature related tasks using `python-gnupg`(v0.3.4). It signs and verifies the signature.">
<meta property="og:type" content="article">
<meta property="og:url" content="https://maxking.github.io/2013/08/09/midterm-report/"><meta property="article:section" content="posts">
<meta property="article:published_time" content="2013-08-09T00:00:00+00:00">
<meta property="article:modified_time" content="2013-08-09T00:00:00+00:00">
<meta itemprop=name content="Midterm Report">
<meta itemprop=description content="This is report of my GSoC project - OpenPG integration with GNU Mailman for midterm. The code is updated at my launchpad branch.  Accomplishments:   A signature rule(src/mailman/rules/signature.py) to check for OpenPGP signature in a message, incase the signature is found it tries to verify the message using gpg utility.  A gpg utility(src/mailman/utilities/gpg.py) to perform all the signature related tasks using `python-gnupg`(v0.3.4). It signs and verifies the signature."><meta itemprop=datePublished content="2013-08-09T00:00:00+00:00">
<meta itemprop=dateModified content="2013-08-09T00:00:00+00:00">
<meta itemprop=wordCount content="421">
<meta itemprop=keywords content><meta name=twitter:card content="summary">
<meta name=twitter:title content="Midterm Report">
<meta name=twitter:description content="This is report of my GSoC project - OpenPG integration with GNU Mailman for midterm. The code is updated at my launchpad branch.  Accomplishments:   A signature rule(src/mailman/rules/signature.py) to check for OpenPGP signature in a message, incase the signature is found it tries to verify the message using gpg utility.  A gpg utility(src/mailman/utilities/gpg.py) to perform all the signature related tasks using `python-gnupg`(v0.3.4). It signs and verifies the signature.">
</head><body class="ma0 avenir bg-near-white">
<header>
<div class=bg-black>
<nav class="pv3 ph3 ph4-ns" role=navigation>
<div class="flex-l justify-between items-center center">
<a href=/ class="f3 fw2 hover-white no-underline white-90 dib">
maxking's blog
</a>
<div class="flex-l items-center">
<div class=ananke-socials>
</div></div></div></nav></div></header><main class=pb7 role=main>
<article class="flex-l flex-wrap justify-between mw8 center ph3">
<header class="mt4 w-100">
<aside class="instapaper_ignoref b helvetica tracked">
POSTS
</aside><div id=sharing class="mt3 ananke-socials">
</div><h1 class="f1 athelas mt3 mb1">Midterm Report</h1><time class="f6 mv4 dib tracked" datetime=2013-08-09T00:00:00Z>August 9, 2013</time>
</header><div class="nested-copy-line-height lh-copy serif f4 nested-links mid-gray pr4-l w-two-thirds-l">
<p>
This is report of my GSoC project - OpenPG integration with GNU Mailman for
midterm. The code is updated at
my <a href=https://code.launchpad.net/~raj-abhilash1/mailman/master> launchpad
branch</a>.
<p>
<b>Accomplishments:</b>
<ul>
<li> A signature rule(src/mailman/rules/signature.py) to check for OpenPGP
signature in a message, incase the signature is found it tries to verify the
message using gpg utility.</li><li> A gpg utility(src/mailman/utilities/gpg.py) to perform all the signature
related tasks using `python-gnupg`(v0.3.4). It signs and verifies the signature.</li><li> A signmessage handler(src/mailman/handlers/signmessage.py) to sign the
outgoing message using the gpg utility.(Signing a message is still incomplete in
the sense we do not have a way to store and use keys. For now it has a
pubring.gpg and secring.gpg inside (var/gpg/). It will be replaced with actual
keyrings in future.)</li><li> Tests for each of the three modules above. Testing gpg.py was a small
challenge(for me).</li></ul><p>
<b>Issues and Roadblocks:</b>
<ul>
<li> Signature verification using `python-gnupg` was a PITA to me for
sometime. The way it accepts the string and signature for detached
signature is not documented at all and is converse of what I could think
of. It just occurred to me to try out the other possibility which turned
out to be the right way.</li><li> Version control was also a issue that I encountered. Initially I
started to work on git mirror of mailman. When I tried to port the code
back to bazaar and push to github it took me(and others) a lot of
brainstorming. Finally I did that using bzr-git.</li><li> Deciding the structure of the signed message that we were going to send
out. Initially it was decided to leave sender's signature intact so that
if someone wants to verify it he can do it, but there can-not be two
'pgp-signature' parts in a conventional multipart/signed message. I wrote
the code to follow
an <a href=http://tools.ietf.org/html/draft-ietf-openpgp-multsig-02>
internet-draft</a> i discovered one-day. But then I commented out the code
and also added another format.</li><pre>
      mutipart/alternative {
            multipart/signed { text/plain, application/pgp-signature }
            multipart/signed { text/plain, application/pgp-signature }
      }
    </pre></ul><p>
Some furthur assistance and research on which format do MUAs support the
most should be implemented.
* python-gnupg does not provide any way to search for keys based on
key-data like email-address. I need some more work to get this working.
<p>
<b>Future Plan:</b>
The next plans for this project include testing all the above parts
thoroughly and then moving on to creating a PKI for the key. Also the
settings for the list-manager to adjust a few options related to signed
lists - like time limit(decided from date in signature) to consider a
message old, and also implementing this in code.
<ul class=pa0>
</ul><div class="mt6 instapaper_ignoref">
</div></div><aside class="w-30-l mt6-l">
</aside></article></main><footer class="bg-black bottom-0 w-100 pa3" role=contentinfo>
<div class="flex justify-between">
<a class="f4 fw4 hover-white no-underline white-70 dn dib-ns pv2 ph3" href=https://maxking.github.io>
&copy; maxking's blog 2022
</a>
<div>
<div class=ananke-socials>
</div></div></div></footer></body></html>